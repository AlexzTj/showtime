<!DOCTYPE html>
<html layout:decorator="layouts/default">
<head>
    <title>Home page</title>
</head>
<body>
<div id="content" class="container mt-5 mb-5" layout:fragment="content">
    <div class="col-md-12">

        <div class="box" id="text-page" ng-controller="TaskCtrl" ng-init="getAllCategories()">
            <a href="#" onclick="history.back()">Back</a>
            <!--<div th:if="${errMsg}" th:insert="layouts/fragments :: alert(type= 'danger', message = ${errMsg})" th:remove="tag"></div>-->
            <h3>Add Task</h3>
            <form >
                <small class="text-danger" >{{errorMessage}}</small>
                <div class="form-group" >
                    <label  for="title" text="Title">Title</label>
                    <input type="text" id="title"  class="form-control" placeholder="Title" ng-model="task.title"/>
                    <small class="text-danger">Title</small>
                </div>
                <div class="form-group" >
                    <label  for="descr" text="Descritpion">Descritpion</label>
                    <textarea  id="descr"  class="form-control" placeholder="Description" ng-model="task.description"></textarea>
                    <small class="text-danger">Desc</small>
                </div>

                <div class="form-group">
                    <label>Category</label>

                    <select id="category" ng-model="task.category" class="form-control">
                        <option ng-repeat="cat in catList" value="{{cat.categoryId}}">{{cat.title}}</option>
                    </select>
                </div>

                <div class="form-group">
                    <fieldset  data-ng-repeat="tc in testCases">
                        <input type="text" ng-model="tc.input" name="" placeholder="Enter required input"></input>
                        <input type="text" ng-model="tc.output" name="" placeholder="Enter expected output"></input>
                        <button class="remove" ng-show="$last" ng-click="removeTC()">-</button>
                    </fieldset>
                    <button class="btn btn-danger btn-xs" ng-click="addNewTC()">Add fields</button>
                </div>


                <button ng-click="saveTask()" class="btn btn-primary">Create</button>
                <a class="btn btn-default" th:href="@{/tasks}" role="button">Cancel</a>
            </form>

        </div>
    </div>
</div>
</body>
</html>